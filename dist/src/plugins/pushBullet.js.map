{"version":3,"sources":["../../../src/plugins/pushBullet.js"],"names":["require","PushBulletClass","screenManager","PushBullet","config","plugins","pushbullet","apiKey","pusher","console","error","isPrinting","status","log","Printing","title","note","response","abstract"],"mappings":";;;;;;;;AACA;;;;AACA;;;;;;;;;;;;;;AAFAA,QAAQ,gBAAR;;IAIqBC,e;;;AAEjB,6BAAYC,aAAZ,EAA2B;AAAA;;AAAA,sIACjBA,aADiB;;AAGvB,YAAIC,aAAaH,QAAQ,YAAR,CAAjB;AACA,YAAI,MAAKI,MAAL,CAAYC,OAAZ,CAAoBC,UAApB,IAAkC,MAAKF,MAAL,CAAYC,OAAZ,CAAoBC,UAApB,CAA+BC,MAA/B,IAAyC,IAA/E,EAAqF;AACjF,kBAAKC,MAAL,GAAc,IAAIL,UAAJ,CAAe,MAAKC,MAAL,CAAYC,OAAZ,CAAoBC,UAApB,CAA+BC,MAA9C,CAAd;AACH,SAFD,MAEO;AACHE,oBAAQC,KAAR,CAAc,gCAAd;AACH;;AAED,cAAKC,UAAL,GAAkB,IAAlB;AAVuB;AAW1B;;;;;gGAEYC,M,EAAQC,G;;;;;;sCACb,KAAKL,MAAL,IAAe,I;;;;;;;;;AAGnB,oCAAI,KAAKG,UAAL,IAAmB,IAAvB,EACI,KAAKA,UAAL,GAAkBC,OAAOE,QAAzB;;AAEJ,oCAAI,KAAKH,UAAL,KAAoBC,OAAOE,QAA/B,EAAyC;AACjCC,yCADiC,GACzBH,OAAOE,QAAP,GAAkB,eAAlB,GAAoC,gBADX;;AAErC,yCAAKN,MAAL,CAAYQ,IAAZ,CAAiB,EAAjB,EAAqBD,KAArB,EAA4BA,KAA5B,EAAmC,UAAUL,KAAV,EAAiBO,QAAjB,EAA2B,CAE7D,CAFD;;AAIA,yCAAKN,UAAL,GAAkBC,OAAOE,QAAzB;AACH;;;;;;;;;;;;;;;;;;;EA7BoCI,kB;;kBAAxBjB,e","file":"pushBullet.js","sourcesContent":["require(\"babel-polyfill\");\r\nimport abstract from \"./abstract.js\";\r\nimport pushBullet from \"pushbullet\";\r\n\r\nexport default class PushBulletClass extends abstract {\r\n\r\n    constructor(screenManager) {\r\n        super(screenManager);\r\n\r\n        let PushBullet = require('pushbullet');\r\n        if (this.config.plugins.pushbullet && this.config.plugins.pushbullet.apiKey != null) {\r\n            this.pusher = new PushBullet(this.config.plugins.pushbullet.apiKey);\r\n        } else {\r\n            console.error(\"missing API key for pushbullet\");\r\n        }\r\n\r\n        this.isPrinting = null;\r\n    }\r\n\r\n    async update(status, log) {\r\n        if (this.pusher == null)\r\n            return;\r\n\r\n        if (this.isPrinting == null)\r\n            this.isPrinting = status.Printing;\r\n\r\n        if (this.isPrinting !== status.Printing) {\r\n            let title = status.Printing ? \"print started\" : \"print finished\";\r\n            this.pusher.note({}, title, title, function (error, response) {\r\n\r\n            });\r\n\r\n            this.isPrinting = status.Printing;\r\n        }\r\n\r\n    }\r\n}\r\n"]}