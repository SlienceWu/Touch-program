{"version":3,"sources":["../../../../../src/plugins/nextion/pages/information.js"],"names":["require","_","Information","screenManager","setScreen","addListener","changePage","ipState","setTimeout","setText","status","proc","mem","Math","ceil","parseInt","temp","disk","ip","address","abstract"],"mappings":";;;;;;;;AAEA;;;;;;;;;;;;;;AAFAA,QAAQ,gBAAR;;AAIA,IAAIC,IAAI,IAAR;;IAEqBC,W;;;AAEjB,yBAAYC,aAAZ,EAA2B;AAAA;;AAAA,yHACjBA,aADiB;AAE1B;;;;;;;;;;;;;uCAGS,KAAKC,SAAL,CAAe,aAAf,C;;;;AAEN,qCAAKC,WAAL,CAAiB,WAAjB,EAA8B,YAAM;AAChCJ,wCAAI,OAAKK,UAAL,CAAgB,QAAhB,CAAJ;AACH,iCAFD;;AAIA,qCAAKC,OAAL,GAAe,GAAf;AACAC,mGAAW;AAAA;AAAA;AAAA;AAAA;AACP,2DAAKD,OAAL,GAAe,GAAf;AADO;AAAA,2DAED,OAAKE,OAAL,CAAa,IAAb,EAAmB,MAAnB,CAFC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAX,IAGE,KAHF;AAIA;;;AAGA,qCAAKJ,WAAL,CAAiB,WAAjB,EAA8B,YAAM;AAChCJ,wCAAI,OAAKK,UAAL,CAAgB,cAAhB,EAA+B,MAA/B,CAAJ;AACH,iCAFD;;;;;;;;;;;;;;;;;;;kGAKSI,M;;;;;;AACTT,oCAAI,KAAKQ,OAAL,CAAa,IAAb,EAAmBC,OAAOC,IAA1B,CAAJ;AACAV,oCAAI,KAAKQ,OAAL,CAAa,IAAb,EAAmBC,OAAOE,GAA1B,CAAJ;AACAX,oCAAI,KAAKQ,OAAL,CAAa,IAAb,EAAmBI,KAAKC,IAAL,CAAUC,SAASL,OAAOM,IAAhB,CAAV,IAAmC,GAAtD,CAAJ;AACAf,oCAAI,KAAKQ,OAAL,CAAa,IAAb,EAAmBC,OAAOO,IAA1B,CAAJ;AACA;AACIC,kC,GAAKlB,QAAQ,IAAR,C;;sCACLkB,GAAGC,OAAH,OAAiB,W;;;;;sCACb,KAAKZ,OAAL,KAAiB,G;;;;;AACjB,qCAAKA,OAAL,GAAe,GAAf;;uCACM,KAAKE,OAAL,CAAa,IAAb,EAAmB,MAAnB,C;;;;;;;AAGV,qCAAKF,OAAL,GAAe,GAAf;;uCACM,KAAKE,OAAL,CAAa,IAAb,EAAmBS,GAAGC,OAAH,KAAe,KAAlC,C;;;;;;;;;;;;;;;;;;;EAxCuBC,kB;;kBAApBlB,W","file":"information.js","sourcesContent":["require(\"babel-polyfill\");\r\n\r\nimport abstract from \"./abstract.js\";\r\n\r\nlet _ = null;\r\n\r\nexport default class Information extends abstract {\r\n\r\n    constructor(screenManager) {\r\n        super(screenManager);\r\n    }\r\n\r\n    async init() {\r\n        await this.setScreen(\"information\");\r\n\r\n        this.addListener(\"click_b15\", () => {\r\n            _ = this.changePage(\"system\");\r\n        });\r\n\r\n        this.ipState = \"0\";\r\n        setTimeout(async () => {\r\n            this.ipState = \"2\";\r\n            await this.setText(\"t1\", \"----\");\r\n        },30000);\r\n        /*let ip = require(\"ip\");\r\n        await this.setText(\"t1\", ip.address());\r\n        console.log((new Date()).toGMTString() + \" IP Address: \" + ip.address());*/\r\n        this.addListener(\"click_b19\", () => {\r\n            _ = this.changePage(\"printingHome\",\"back\");\r\n        });\r\n    }\r\n\r\n    async update(status) {\r\n        _ = this.setText(\"t5\", status.proc);\r\n        _ = this.setText(\"t6\", status.mem);\r\n        _ = this.setText(\"t7\", Math.ceil(parseInt(status.temp)) + \"C\");\r\n        _ = this.setText(\"t8\", status.disk);\r\n        //_ = this.setText(\"t2\", \"cpu:\" + status.proc + \" mem:\" + status.mem + \" temp:\" + Math.ceil(parseInt(status.temp)) + \"C\"); //\r\n        let ip = require(\"ip\");\r\n        if (ip.address() === \"127.0.0.1\"){\r\n            if (this.ipState !== \"2\"){\r\n                this.ipState = \"0\";\r\n                await this.setText(\"t1\", \"xxxx\");\r\n            }\r\n        } else{\r\n            this.ipState = \"1\";\r\n            await this.setText(\"t1\", ip.address() + \"   \");\r\n        }\r\n    }\r\n}"]}