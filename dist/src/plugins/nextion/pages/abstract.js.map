{"version":3,"sources":["../../../../../src/plugins/nextion/pages/abstract.js"],"names":["require","_","Abstract","manager","nextion","nanoDLP","listener","history","enabled","event","callback","push","btn","on","val","setPage","options","removeAllListeners","txt","setText","setValue","getValue","status"],"mappings":";;;;;;;;;;;;AAAAA,QAAQ,gBAAR;;AAEA,IAAIC,IAAI,IAAR;;IAEqBC,Q;AAEjB,sBAAYC,OAAZ,EAAqB;AAAA;;AACjB,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKC,OAAL,GAAeD,QAAQC,OAAvB;AACA,aAAKC,OAAL,GAAeF,QAAQE,OAAvB;AACA,aAAKC,QAAL,GAAgB,EAAhB;AACA,aAAKC,OAAL,GAAe,EAAf;AACA,aAAKC,OAAL,GAAe,IAAf;AACH;;;;oCAEWC,K,EAAOC,Q,EAAU;AACzB,iBAAKJ,QAAL,CAAcK,IAAd,CAAmB,EAACC,KAAKH,KAAN,EAAaC,UAAUA,QAAvB,EAAnB;AACA,iBAAKN,OAAL,CAAaS,EAAb,CAAgBJ,KAAhB,EAAuBC,QAAvB;AACH;;;;gGAEeI,G;;;;;;uCACN,KAAKV,OAAL,CAAaW,OAAb,CAAqBD,GAArB,C;;;AACN,qCAAKP,OAAL,GAAe,EAAf;;;;;;;;;;;;;;;;;;;kGAGaO,G,EAAKE,O;;;;;AAClB,qCAAKZ,OAAL,CAAaa,kBAAb;AACA,qCAAKX,QAAL,GAAgB,EAAhB;;uCACU,KAAKH,OAAL,CAAaY,OAAb,CAAqBD,GAArB,EAA0BE,OAA1B,C;;;AAAVf,iC;;;;;;;;;;;;;;;;;;;kGAGUiB,G,EAAKJ,G;;;;;sCACX,KAAKP,OAAL,CAAaW,GAAb,MAAsBJ,G;;;;;;;;AAE1B,qCAAKP,OAAL,CAAaW,GAAb,IAAoBJ,GAApB;;uCACM,KAAKV,OAAL,CAAae,OAAb,CAAqBD,GAArB,EAA0BJ,GAA1B,C;;;;;;;;;;;;;;;;;;;kGAGKI,G,EAAKJ,G;;;;;sCACZ,KAAKP,OAAL,CAAaW,GAAb,MAAsBJ,G;;;;;;;;AAE1B,qCAAKP,OAAL,CAAaW,GAAb,IAAoBJ,GAApB;;uCACM,KAAKV,OAAL,CAAagB,QAAb,CAAsBF,GAAtB,EAA2BJ,GAA3B,C;;;;;;;;;;;;;;;;;;;kGAGKI,G;;;;;;uCACE,KAAKd,OAAL,CAAaiB,QAAb,CAAsBH,GAAtB,C;;;;;;;;;;;;;;;;;;;;;;kGAGJI,M;;;;;;;;;;;;;;;;;;;;kCAIJ;AACL,iBAAKd,OAAL,GAAe,KAAf;AACA,iBAAKJ,OAAL,CAAaa,kBAAb;AACA,iBAAKX,QAAL,GAAgB,EAAhB;AACH;;;;;;kBArDgBJ,Q","file":"abstract.js","sourcesContent":["require(\"babel-polyfill\");\r\n\r\nlet _ = null;\r\n\r\nexport default class Abstract {\r\n\r\n    constructor(manager) {\r\n        this.manager = manager;\r\n        this.nextion = manager.nextion;\r\n        this.nanoDLP = manager.nanoDLP;\r\n        this.listener = [];\r\n        this.history = {};\r\n        this.enabled = true;\r\n    }\r\n\r\n    addListener(event, callback) {\r\n        this.listener.push({btn: event, callback: callback});\r\n        this.nextion.on(event, callback);\r\n    }\r\n\r\n    async setScreen(val) {\r\n        await this.nextion.setPage(val);\r\n        this.history = {};\r\n    }\r\n\r\n    async changePage(val, options) {\r\n        this.nextion.removeAllListeners();\r\n        this.listener = [];\r\n        _ = await this.manager.setPage(val, options);\r\n    }\r\n\r\n    async setText(txt, val) {\r\n        if (this.history[txt] === val)\r\n            return;\r\n        this.history[txt] = val;\r\n        await this.nextion.setText(txt, val);\r\n    }\r\n\r\n    async setValue(txt, val) {\r\n        if (this.history[txt] === val)\r\n            return;\r\n        this.history[txt] = val;\r\n        await this.nextion.setValue(txt, val);\r\n    }\r\n\r\n    async getValue(txt) {\r\n        return await this.nextion.getValue(txt);\r\n    }\r\n\r\n    async update(status){\r\n\r\n    }\r\n\r\n    dispose(){\r\n        this.enabled = false;\r\n        this.nextion.removeAllListeners();\r\n        this.listener = [];\r\n    }\r\n}\r\n"]}